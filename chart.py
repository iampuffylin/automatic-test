from selenium import webdriver
from selenium.webdriver.chrome.options import Options
# from seleniumwire import webdriver
from time import sleep
import codecs
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.action_chains import ActionChains
from datetime import datetime
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.service import Service
import pathlib
import os
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
import time
import threading
import numpy as np
import matplotlib.pyplot as plt
import requests
import csv
import config
import random


path = pathlib.Path(__file__).parent.resolve()
time_cost = []

def main():
    drawSameTimeChart()

def drawSameTimeChart():
    # time_cost = [[10.474244832992554, 6.553020000457764, 7.974948167800903, 6.62608003616333, 3.783029079437256], [10.218952178955078, 5.943846225738525, 7.5698888301849365, 6.300737142562866, 3.8339157104492188]]
    urls = list(range(1, 24))
    a = [2.5166971683502200,2.320448160171510,2.1049294471740700,1.8497133255004900,1.9288196563720700,1.8380076885223400,1.9048302173614500,1.8811676502227800,1.2670371532440200,1.7094616889953600,1.6282925605773900,1.4669921398162800,1.7031371593475300,1.8737850189209000,2.3156211376190200,1.6078763008117700,1.442023754119870,1.4965715408325200,1.808725357055660,1.5280084609985400,1.5654888153076200,1.459608793258670,1.3206582069397000]
    b = [2.83477008342743,2.5317006111145000,2.370860099792480,1.78393137454987,1.820109605789190,2.1534364223480200,1.9238183498382600,2.0682985782623300,1.28912675380707,2.0380649566650400,1.72259342670441,2.00976037979126,1.5721440315246600,1.9819835424423200,2.24061191082001,1.81345975399017,1.38963305950165,1.5460673570633000,1.9489973783493000,1.6570514440536500,1.6380163431167600,1.6285785436630300,1.3005503416061400]
    c = [3.35435118675232,2.76527986526489,2.88172793388367,2.19590277671814,2.13636360168457,2.20646681785584,2.13179769515991,2.09047002792358,1.63517136573792,2.3160809993743900,1.96101541519165,2.17752079963684,1.6759022712707500,2.37922830581665,2.62290744781494,2.12071003913879,1.60814266204834,2.13354563713074,2.34102301597595,2.2058361530304,1.87935981750488,1.97675852775574,1.59846248626709]
    d = [4.876944804191590,4.28081111907959,3.9131373167038,3.16738827228546,3.34474732875824,3.32041935920715,3.30330846309662,2.99474518299103,2.27981376647949,3.47888703346253,3.0627676248550400,2.79417650699616,2.35021567344666,3.30511972904205,3.63951330184937,3.34418036937714,2.3722155570983900,2.82484385967255,2.95189967155457,2.86116576194763,2.3181586265564,2.39393122196197,1.7964608669281]
    e = [8.467227760114170,7.85433778009917,6.98748304969386,5.59758417229903,5.20594120025635,6.043384163003220,5.989725903460860,5.67810117570977,4.103752098585430,7.11688523543508,5.80698231646889,5.7143709283126,4.83582914502997,5.97301046471847,6.35981342667028,5.76411870906227,4.50662522566946,5.648822207199900,6.03560899433337,5.784092313364930,4.80996799468994,4.29713521505657,3.24959256774501]

    lines = plt.plot(urls,a,urls,b,urls,c,urls,d,urls,e)
    
    plt.xticks(urls)
    plt.plot(urls,a, linestyle='-', marker='o', color='#B22222', label='1 Slave')
    plt.plot(urls,b, linestyle='-', marker='o', color='#E9967A', label='2 Slaves')
    plt.plot(urls,c, linestyle='-', marker='o', color='#228B22', label='5 Slaves')
    plt.plot(urls,d, linestyle='-', marker='o', color='#4169E1', label='10 Slaves')
    plt.plot(urls,e, linestyle='-', marker='o', color='#800080', label='20 Slaves')
    plt.title("Target User Profile Time Cost") # title
    plt.ylabel("Cost Time") # y label
    plt.xlabel("Target User") # x label
    plt.setp(lines,marker = "o") 
    plt.legend()
    plt.grid(True)
    # plt.show()
    plt.savefig('drawSameTimeChart.png')

if __name__ == '__main__':
    main()
    # logStatus('Test', True, 'OK')